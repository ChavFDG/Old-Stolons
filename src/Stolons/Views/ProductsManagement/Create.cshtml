@model Stolons.ViewModels.ProductsManagement.ProductEditionViewModel

@{
    ViewData["Title"] = "Ajouter un produit";
}

<h2>@ViewData["Title"]</h2>

<form asp-action="Create" enctype="multipart/form-data">
    <div class="form-horizontal">
        <hr />
        <div asp-validation-summary="ValidationSummary.All" class="text-danger"></div>
        <div class="form-group">
            <label asp-for="Product.Name" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Product.Name" class="form-control" />
                <span asp-validation-for="Product.Name" class="text-danger" />
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Product.Description" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Product.Description" class="form-control" />
                <span asp-validation-for="Product.Description" class="text-danger" />
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Product.Labels" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                @foreach (var label in Enum.GetNames(typeof(Product.Label)))
                {
                    <span>
                        @label                        
                        @if (Model.SelectedLabels.Contains(label))
                        {
                            <input type="checkbox" class="checkbox" name="SelectedLabels" value="@label" id="@label" checked>
                        }
                        else
                        {
                            <input type="checkbox" class="checkbox" name="SelectedLabels" value="@label" id="@label">
                        }
                    </span>
                }
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-2 control-label">Photo principale</label>
            <div class="col-md-10">
                <input type="file" accept="image/*" name="Product.UploadFile1" class="form-control" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-2 control-label">2ieme photo</label>
            <div class="col-md-10">
                <input type="file" accept="image/*" name="Product.UploadFile2" class="form-control" />
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-2 control-label">3ieme photo</label>
            <div class="col-md-10">
                <input type="file" accept="image/*" name="Product.UploadFile3" class="form-control" />
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Product.DLC" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Product.DLC" class="form-control" />
                <span asp-validation-for="Product.DLC" class="text-danger" />
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Product.Familly" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <select asp-for="FamillyName" class="form-control">
                    @foreach (var productType in Model.ProductTypes)
                    {
                        <optgroup label="@productType.Name">
                            @foreach (var productFamily in productType.ProductFamilly)
                            {
                                <option value="@productFamily.Name">@productFamily.Name</option>
                            }
                        </optgroup>
                    }
                </select>
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Product.Type" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <select asp-for="Product.Type" asp-items="Html.GetEnumSelectList<Product.SellType>()" class="form-control"></select>
                <span asp-validation-for="Product.Type" class="text-danger" />
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Product.ProductUnit" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <select asp-for="Product.ProductUnit" asp-items="Html.GetEnumSelectList<Product.Unit>()" class="form-control"></select>
                <span asp-validation-for="Product.ProductUnit" class="text-danger" />
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Product.QuantityStep" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Product.QuantityStep" class="form-control" />
                <span asp-validation-for="Product.QuantityStep" class="text-danger" />
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Product.AverageQuantity" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Product.AverageQuantity" class="form-control" />
                <span asp-validation-for="Product.AverageQuantity" class="text-danger" />
            </div>
        </div>
        <div class="form-group">
            <label asp-for="Product.Price" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Product.Price" class="form-control" />
                <span asp-validation-for="Product.Price" class="text-danger" />
            </div>
        </div>
        <!--HIDDEN-->
        <div class="form-group" hidden="hidden">
            <label asp-for="Product.Id" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Product.Id" class="form-control" />
            </div>
        </div>
        <div class="form-group" hidden="hidden">
            <label asp-for="Product.PicturesSerialized" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Product.PicturesSerialized" class="form-control" />
            </div>
        </div>
        <div class="form-group" hidden="hidden">
            <label asp-for="Product.RemainingStock" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Product.RemainingStock" class="form-control" />
            </div>
        </div>
        <div class="form-group" hidden="hidden">
            <label asp-for="Product.WeekStock" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <input asp-for="Product.WeekStock" class="form-control" />
            </div>
        </div>
        <div class="form-group" hidden="hidden">
            <label asp-for="Product.State" class="col-md-2 control-label"></label>
            <div class="col-md-10">
                <select asp-for="Product.State" class="form-control"></select>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Ajouter" class="btn btn-default" />
            </div>
        </div>
    </div>
</form>

<div>
    <a asp-action="Index">Revenir aux produits</a>
</div>

@section Scripts {
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
}
